<!--This is the account overview page-->
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Account</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<header>
  <nav>
    <div class="logoContainer">
      <a href="https://cosc4p02-mesuemmap.web.app/"><img src="images/logo.svg"></a>
    </div>
    <div class="navLinksContainer">
      <ul id="navLinksContainer">
        <li id="searchListItem"><input type="text" class="textField" id="navSearchBar" placeholder="Search for exhibits">
          <label id="advSearch" title="Click For Advanced Search"> + </label>
          <a href="#" onclick="navSearch()"><img class="searchIcon navIcon" src="images/search.svg"></a>
        </li>
        <li><a href="index.html"> Map </a></li>
        <li><a href="viewExhibitsList.html"> Exhibit List </a></li>
      </ul>
    </div>
  </nav>
  <script>
    document.getElementById("advSearch").addEventListener("click", redirect);
    function redirect() {
      window.location.replace("search.html?Advanced=" + true);
    }
    document.getElementById("navSearchBar").addEventListener("keypress", function (event) {
      if (event.key == "Enter") {
        event.preventDefault();
        navSearch();
      }
    })
  </script>
</header>

<body>
  <div id="accountContainer">
    <table>
      <tr id="userName">
        <th>Name</th>
      </tr>
      <tr id="userID">
        <th>Employee ID</th>
      </tr>
      <tr id="userAccessLevel">
        <th>AccessLevel</th>
      </tr>
    </table>
    <br><input type="submit"  value="Logout" class="button solid" id="logoutButton">
  </div>
  <script src="script.js"></script>
  <script>
        checkUserStatusAccountView();
  </script>
  <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
        import { getFirestore, setDoc, getDoc, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js";
        import { getStorage, ref as sRef, uploadBytes, getDownloadURL, deleteObject } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-storage.js";
        import { getAuth, setPersistence, signInWithEmailAndPassword, signOut, browserSessionPersistence,onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js";

		//import { loginUser } from "./FirebaseAccess.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        // /*
        const firebaseConfig = {
            apiKey: "AIzaSyCm9-YxifpEbVuBYOh3GukLka4cenJYw84",
            authDomain: "cosc4p02-mesuemmap.firebaseapp.com",
            projectId: "cosc4p02-mesuemmap",
            storageBucket: "cosc4p02-mesuemmap.appspot.com",
            messagingSenderId: "235500180144",
            appId: "1:235500180144:web:6b3bf1fb3ff3c50c80a175",
            databaseURL: "https://cosc4p02-mesuemmap-default-rtdb.firebaseio.com/"
        };
        // */

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const database = getFirestore(app);
        const storage = getStorage(app);

        function logout() {
            signOut(auth).then(() => {
                console.log("SIGNED OUT\n");
                document.cookie="///";
                alert("Signed out")
				window.location.replace("index.html");
            })
        }
		function checkUserStatus(){
            console.log(document.cookie);
            
        }
        checkUserStatus();

        
        document.getElementById("logoutButton").addEventListener("click", logout);
        // */


  </script>
</body>
<footer>
  <p>43 Castlereagh Street, PO Box 208
    Niagara-on-the-Lake, ON L0S 1J0
    Canada
  </p>
  <p> Copyright Â© Niagara-on-the-Lake Museum 2023</p>
</footer>

</html>
